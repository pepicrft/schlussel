<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>schlussel - schlussel</title>
    <meta name="description" content="Platform-agnostic session management for concurrent agents">
    <link rel="canonical" href="http://localhost:3000">
    <meta property="og:title" content="schlussel">
    <meta property="og:description" content="Platform-agnostic session management for concurrent agents">
    <meta property="og:url" content="http://localhost:3000">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>

<div class="grain" aria-hidden="true"></div>
<header class="topbar">
  <div class="brand">ðŸ”‘ schlussel</div>
  <nav class="nav">
    <a href="#manifesto">Manifesto</a>
    <a href="#capabilities">Capabilities</a>
    <a href="#bindings">Bindings</a>
    <a href="#formulas">Formulas</a>
    <a href="#license">License</a>
    <a class="nav__cta" href="https://github.com/pepicrft/schlussel">Get Started</a>
  </nav>
</header>

<main>
  <section class="hero">
    <div class="hero__orb" aria-hidden="true"></div>
    <div class="hero__content">
      <p class="hero__eyebrow">Session coherence for concurrent agents</p>
      <h1>Engineered for deterministic coordination</h1>
      <p class="hero__lead">
        Schlussel is the OAuth 2.0 library + CLI written in Zig that keeps CLI
        agents from undoing each other. Unified locking, PKCE, and device-code
        flows with OS-native token storage keep every refresh serialized across
        macOS, Linux, and Windows so agents can swarm without invalidating
        shared tokens.
      </p>
      <ul class="hero__points">
        <li><strong>Library + CLI</strong> for OAuth2 clients and automation.</li>
        <li><strong>Cross-platform</strong> session stores and locking.</li>
        <li><strong>Agentic era ready</strong> with deterministic refreshes.</li>
      </ul>
      <div class="hero__actions">
        <a class="cta" href="#manifesto">Read the manifesto</a>
        <a class="cta cta--ghost" href="#formulas">Inspect formulas</a>
      </div>
    </div>
    <div class="hero__panel">
      <div class="panel__label">OAuth2 library + CLI bundle</div>
      <div class="panel__line"></div>
      <div class="panel__label">PKCE, device & refresh flows</div>
      <div class="panel__line"></div>
      <div class="panel__label">Deterministic locking</div>
    </div>
  </section>

  <section id="manifesto" class="section manifesto">
    <div class="section__title">
      <h2>Manifesto</h2>
      <p>One key, many agents, zero split-brain sessions.</p>
    </div>
    <div class="section__body">
      <p>
        Modern CLIs are no longer solo applications; they are agents coordinating
        across CI fleets, workspaces, and autopilot loops. Without a unified,
        platform-agnostic session catalog, every process risks refreshing the
        same token simultaneously and invalidating the credentials it shares.
        Schlussel keeps the handshake deterministic with shared locks, native
        storage, and built-in refresh discipline.
      </p>
      <p>
        Deploying an OAuth2 client should never mean reimplementing refresh
        choreography. If your tool needs an OAuth2 library or CLI, Schlussel
        provides both with an opinionated stack that speaks the same language as
        every agent, runtime, and operating system.
      </p>
    </div>
  </section>

  <section id="capabilities" class="section features">
    <div class="section__title">
      <h2>Capabilities</h2>
      <p>Minimal surface area. Maximum discipline.</p>
    </div>
    <div class="features__grid">
      <article>
        <h3>Cross-process safekeeping</h3>
        <p>Refresh tokens run through serialized guards so race conditions never cancel another process's handshake.</p>
        <p>Scalable locking scopes keep throughput high while sticking to a single source of truth.</p>
      </article>
      <article>
        <h3>Native storage</h3>
        <p>Each OS puts secrets in its own credential managerâ€”Keychain, Credential Manager, libsecretâ€”so users recognize the surface.</p>
        <p>The CLI never invents yet another vault, it just speaks the native language.</p>
      </article>
      <article>
        <h3>Formula-first workflows</h3>
        <p>Bundled formulas describe flows, endpoints, required scopes, and registration steps.</p>
        <p>Future-proof custom providers with third-party JSON or dynamic registration.</p>
      </article>
    </div>
  </section>

  <section id="bindings" class="section bindings">
    <div class="section__title">
      <h2>Bindings</h2>
      <p>Ship Schlussel across runtimes and keep every agent speaking the same session language.</p>
    </div>
    <div class="bindings__grid">
      <div class="binding-card">
        <img src="/img/webassembly.svg" alt="WebAssembly logo" />
        <span>Browser (Wasm)</span>
      </div>
      <div class="binding-card">
        <img src="/img/python.svg" alt="Python logo" />
        <span>Python</span>
      </div>
      <div class="binding-card">
        <img src="/img/ruby.svg" alt="Ruby logo" />
        <span>Ruby</span>
      </div>
      <div class="binding-card">
        <img src="/img/elixir.svg" alt="Elixir logo" />
        <span>Elixir</span>
      </div>
      <div class="binding-card">
        <img src="/img/swift.svg" alt="Swift logo" />
        <span>Swift</span>
      </div>
    </div>
  </section>

  <section id="formulas" class="section formulas">
    <div class="section__title">
      <h2>Declarative formulas</h2>
      <p>Portable OAuth recipes stored in the filesystem and fused into the binary.</p>
    </div>
    <div class="formulas__grid">
      <div class="formula-card">
        <h3>First-party</h3>
        <p>Compiled formulas for GitHub, Google, Microsoft, GitLab, Tuist, and now Claude &amp; Codex.</p>
        <p>Versioned with the library, no configuration required for the supported workflows.</p>
      </div>
      <div class="formula-card">
        <h3>Third-party</h3>
        <p>Drop JSON on disk or pipe a custom file when your IdP behaves differently.</p>
        <p>Formulas describe flows, endpoints, scopes, registration steps, and quirks.</p>
      </div>
      <div class="formula-card">
        <h3>Onboarding</h3>
        <p>Each formula lists how to register a client, request API keys, and nail redirect URIs.</p>
        <p>Dynamic registration endpoints capture providers such as Claude that mint CLI keys without a dashboard form.</p>
      </div>
    </div>
    <div class="formula-example">
      <div class="formula-example__text">
        <h3>Example formula</h3>
        <p>Endpoints, flows, scopes, and quirks stay in a single schema so agents read the same playbook.</p>
        <p>Providers that deviateâ€”slack nested responses, Claude role configs, Codex model hints, Tuist token nestingâ€”are handled explicitly.</p>
      </div>
      <pre><code>{
  "id": "claude",
  "label": "Claude Code",
  "flows": ["authorization_code"],
  "endpoints": {
    "authorize": "https://claude.ai/oauth/authorize",
    "token": "https://console.anthropic.com/v1/oauth/token"
  },
  "scopes": ["user:profile","user:inference","org:create_api_key"],
  "onboarding": {
    "register_url": "https://console.anthropic.com/oauth/clients",
    "steps": [
      "Register your CLI client in the Claude Console.",
      "Wire up schlussel://oauth-callback or http://127.0.0.1/callback and include the CLI scopes.",
      "Use the CLI API key endpoint to mint credentials and drop the secret into Schlussel."
    ]
  },
  "quirks": {
    "dynamic_registration_endpoint": "https://api.anthropic.com/api/oauth/claude_cli/create_api_key",
    "extra_fields": ["roles"]
  }
}</code></pre>
    </div>
    <div class="formula-inconsistencies">
      <h3>Modeling inconsistencies</h3>
      <p>Formulas capture differences in polling styles, token responses, and dynamic registration.</p>
      <ul>
        <li><strong>Claude Code</strong> issues CLI API keys via a dynamic endpoint and mentions roles in its response instead of the usual JSON.</li>
        <li><strong>Codex CLI</strong> predates the OAuth infrastructure you expect, so the formula keeps the classic authorization code URLs and model hints for your requests.</li>
        <li><strong>Tuist</strong> returns nested token structures and supports custom registration URLs for machine clients.</li>
        <li><strong>Slack</strong> hands back nested tokens and extra incoming webhook IDs that the formulas store explicitly.</li>
      </ul>
    </div>
  </section>

  <section id="cta" class="section cta-strip">
    <div>
      <h2>Make sessions the backbone</h2>
      <p>
        Schlussel is the shared key for agent swarms, CI fleets, and multi-platform
        automation. Give every CLI the same OAuth2 handshake so tokens stay valid
        across concurrent refreshes.
        </p>
      <p class="cta-strip__note">
        Most CLIs roll their own OAuth2 clients; Schlussel gives you a unified,
        race-free session deck that works anywhere.
      </p>
      <p class="cta-strip__license">
        Includes the MIT <a href="/LICENSE">license</a> and contributions from the Tuist team.
      </p>
    </div>
    <a class="cta" href="https://github.com/pepicrft/schlussel">View on GitHub</a>
  </section>
</main>

<footer id="license" class="footer">
  <p>schlussel â€” engineered for disciplined concurrency.</p>
  <p><a href="/LICENSE">MIT License</a> Â© 2025 Tuist.</p>
</footer>
  </body>
</html>

