{% include 'head' %}
<div class="grain" aria-hidden="true"></div>
<header class="topbar">
  <div class="brand">schlussel ðŸ”‘</div>
  <nav class="nav">
    <a href="#manifesto">Manifesto</a>
    <a href="#features">Capability</a>
    <a href="#formulas">Formulas</a>
    <a href="#cta">Docs</a>
    <a class="nav__cta" href="https://github.com/pepicrft/schlussel">Get Started</a>
  </nav>
</header>

<main>
  <section class="hero">
    <div class="hero__orb" aria-hidden="true"></div>
    <div class="hero__content">
    <p class="hero__eyebrow">Secure OAuth 2.0 for command-line tools</p>
    <h1>
        Schlussel is an
        <span>OAuth 2.0</span>
        library + CLI
    </h1>
    <p class="hero__lead">
      Built in Zig, it handles PKCE and device code flows with OS-native token
      storage and cross-process safety, so CLI tools can prevent race conditions
      from invalidating shared tokens.
    </p>
    <div class="hero__actions">
      <a class="cta" href="#manifesto">Read the manifesto</a>
      <a class="cta cta--ghost" href="#formulas">View formulas</a>
    </div>
    </div>
    <div class="hero__panel">
      <div class="panel__label">Controlled refresh</div>
      <div class="panel__line"></div>
      <div class="panel__label">Unified storage</div>
      <div class="panel__line"></div>
      <div class="panel__label">Cross-process safe</div>
    </div>
  </section>

  <section id="manifesto" class="section manifesto">
    <div class="section__title">
      <h2>Unified sessions, zero confusion</h2>
      <p>One key. Many doors. No dropped locks.</p>
    </div>
    <div class="section__body">
      <p>
        In a world of concurrent agents, a single device is no longer the
        boundary. Processes race, refresh tokens collide, and fragmented session
        stores turn into silent failures. A unified, platform-agnostic session
        layer eliminates that chaos by giving every agent a common language for
        locking, refreshing, and sharing credentials.
      </p>
      <p>
        When sessions are consistent across macOS, Linux, and Windows, you get
        deterministic behavior: the same refresh rules, the same storage
        guarantees, and the same concurrency safety everywhere. That means fewer
        split-brain tokens, fewer stale sessions, and a resilient backbone for
        distributed automation.
      </p>
    </div>
  </section>

  <section class="section about">
    <div class="section__title">
      <h2>What Schlussel is</h2>
      <p>Library + CLI, built in Zig.</p>
    </div>
    <div class="section__body">
      <p>
        Schlussel provides a cross-platform OAuth 2.0 client with PKCE and device
        code flow support, designed for CLI applications that need secure token
        storage and consistent behavior across operating systems.
      </p>
      <p>
        Use it as a Zig library or as a CLI tool to drive authorization flows,
        store tokens in OS credential managers, and refresh them safely under
        concurrency.
      </p>
    </div>
  </section>

  <section id="features" class="section features">
    <div class="section__title">
      <h2>Built for the agentic era</h2>
      <p>Minimal surface area. Maximum discipline. No surprises.</p>
    </div>
    <div class="features__grid">
      <article>
        <h3>Cross-process safe</h3>
        <p>Token refreshes are serialized across processes, so concurrent agents never race to overwrite or invalidate the same credentials.</p>
        <p>Locks are scoped per key, keeping throughput high while guaranteeing a single source of truth.</p>
      </article>
      <article>
        <h3>OS-native storage</h3>
        <p>Store tokens in Keychain, Credential Manager, or libsecret, matching the platformâ€™s security model and user expectations.</p>
        <p>No custom vaults, no bespoke encryption layers, just native, audited storage.</p>
      </article>
      <article>
        <h3>Formula presets</h3>
        <p>First-party formulas encode scopes, endpoints, and flows for common providers.</p>
        <p>Stay aligned with OAuth best practices while keeping configuration minimal.</p>
      </article>
    </div>
  </section>

  <section id="bindings" class="section bindings">
    <div class="section__title">
      <h2>Bindings</h2>
      <p>Ship Schlussel across runtimes.</p>
    </div>
    <div class="bindings__grid">
      <div class="binding-card">
        <img src="/img/webassembly.svg" alt="WebAssembly logo" />
        <span>Browser (Wasm)</span>
      </div>
      <div class="binding-card">
        <img src="/img/python.svg" alt="Python logo" />
        <span>Python</span>
      </div>
      <div class="binding-card">
        <img src="/img/ruby.svg" alt="Ruby logo" />
        <span>Ruby</span>
      </div>
      <div class="binding-card">
        <img src="/img/elixir.svg" alt="Elixir logo" />
        <span>Elixir</span>
      </div>
      <div class="binding-card">
        <img src="/img/swift.svg" alt="Swift logo" />
        <span>Swift</span>
      </div>
    </div>
  </section>

  <section id="formulas" class="section formulas">
    <div class="section__title">
      <h2>Declarative formulas</h2>
      <p>Portable OAuth recipes that live in the filesystem.</p>
    </div>
    <div class="formulas__grid">
      <div class="formula-card">
        <h3>First-party formulas</h3>
        <p>Shipped with Schlussel and compiled into the binary for zero-setup use.</p>
        <p>Versioned alongside the library to keep behavior deterministic.</p>
      </div>
      <div class="formula-card">
        <h3>Third-party formulas</h3>
        <p>Drop a JSON file into your project or pass one at runtime.</p>
        <p>Ideal for internal IdPs or custom OAuth deployments.</p>
      </div>
      <div class="formula-card">
        <h3>Onboarding guidance</h3>
        <p>Each formula includes steps to register a client, obtain API keys, and configure redirect URLs.</p>
        <p>No more hunting through docs every time you add OAuth.</p>
      </div>
    </div>
    <div class="formula-example">
      <div class="formula-example__text">
        <h3>Example formula</h3>
        <p>Declarative fields describe flows, endpoints, scopes, and registration steps.</p>
        <p>Quirks model provider-specific behavior without compromising the core schema.</p>
      </div>
      <pre><code>{
  "id": "slack",
  "label": "Slack",
  "flows": ["authorization_code"],
  "endpoints": {
    "authorize": "https://slack.com/oauth/v2/authorize",
    "token": "https://slack.com/api/oauth.v2.access"
  },
  "scopes": ["chat:write", "incoming-webhook"],
  "onboarding": {
    "register_url": "https://api.slack.com/apps",
    "steps": [
      "Create a Slack app and enable OAuth & Permissions.",
      "Add your redirect URI.",
      "Install the app to the workspace."
    ]
  },
  "quirks": {
    "token_response": "nested",
    "extra_fields": ["incoming_webhook"]
  }
}</code></pre>
    </div>
    <div class="formula-inconsistencies">
      <h3>Inconsistencies to model</h3>
      <p>Not every provider adheres to the same OAuth surface area. Formulas capture deviations explicitly.</p>
      <ul>
        <li><strong>Apple</strong> uses a JWT client secret generated from a private key and team ID, with long-lived expiry.</li>
        <li><strong>Okta</strong> requires a tenant-specific domain, so the authorize/token URLs are templated per organization.</li>
        <li><strong>Slack</strong> has multiple install flows and scope variants, plus extra response fields like incoming webhooks.</li>
        <li><strong>Tuist server</strong> integrates multiple OAuth providers (Apple, Okta, Slack), showing why a single schema needs explicit quirk support.</li>
      </ul>
    </div>
  </section>

  <section id="cta" class="section cta-strip">
    <div>
      <h2>Make sessions the backbone</h2>
      <p>
        Schlussel is the shared key for agent swarms, CI fleets, and teams
        building across platforms. Stop rewriting the handshake.
      </p>
    </div>
    <a class="cta" href="https://github.com/pepicrft/schlussel">View on GitHub</a>
  </section>
</main>

<footer class="footer">
  <p>schlussel â€” engineered for disciplined concurrency.</p>
  <p>MIT License Â© 2025 Tuist.</p>
</footer>
{% include 'footer' %}
